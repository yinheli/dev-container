# Enable mouse support
set -g mouse on

# Configure mouse wheel to scroll in the terminal instead of triggering arrow keys
# This allows normal terminal scrolling behavior
bind-key -T copy-mode-vi WheelUpPane send-keys -X scroll-up
bind-key -T copy-mode-vi WheelDownPane send-keys -X scroll-down

# Alternative mouse wheel configuration for better compatibility
# Bind mouse wheel to scroll up/down in copy mode
bind-key -T copy-mode WheelUpPane send-keys -X scroll-up
bind-key -T copy-mode WheelDownPane send-keys -X scroll-down

# Enable mouse wheel scrolling in main mode (outside copy mode)
bind-key -T root WheelUpPane if-shell -F -t = "#{alternate_on}" "send-keys -M" "select-pane -t =; copy-mode -e; send-keys -M"
bind-key -T root WheelDownPane if-shell -F -t = "#{alternate_on}" "send-keys -M" "select-pane -t =; send-keys -M"

# Set scrollback buffer size
set -g history-limit 10000

# Other useful mouse-related settings
set -g focus-events on

# Improve colors
set -g default-terminal "screen-256color"

# Start windows and panes at 1, not 0
set -g base-index 1
setw -g pane-base-index 1

# Renumber windows when one is closed
set -g renumber-windows on

# Enable vi mode for better navigation
setw -g mode-keys vi

# Copy mode improvements
bind-key -T copy-mode-vi 'v' send -X begin-selection
bind-key -T copy-mode-vi 'y' send -X copy-selection-and-cancel
